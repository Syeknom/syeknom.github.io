<html>
<head>
<title>Adam's Fastspring Example</title>

<script
	id="fsc-api"
	src="https://d1f8f9xcsvx3ha.cloudfront.net/sbl/0.8.0/fastspring-builder.min.js"
	type="text/javascript"
	data-storefront="aharvey.test.onfastspring.com/popup-aharvey"
	>
</script>

<script>
	document.addEventListener("DOMContentLoaded", function()
		{
      var itemsInCheckout = {"digital-good-1":5,"digital-good-2":10};

      var session new Object();

			session['reset']=true;

      for (var key in itemsInCheckout) {
        if (itemsInCheckout.hasOwnProperty(key)) {
            session[key] = itemsInCheckout[key]
        }
      };

      session['products'] = [
					{
						'path':itemsInCheckout,
						'quantity':5
					},
				];

      session['paymentContact'] = {
          'email': 'aharvey@fastspring.com',
          'firstName': 'Adam',
          'lastName': 'Harvey',
          'company': 'Fastspring', //optional
          'phone': '0031202251052', //optional
          'addressLine1': 'Strawinskylaan 3101', //optional
          'city': 'Amsterdam', //optional
          'region': 'Noord-Holland', //optional
          'country': 'NL', //optional
          'postalCode': '1077 ZX' //optional
				};


      console.log(session);
			fastspring.builder.push(session);

      // update the page to display the number of items in the checkout
      document.getElementById("itemsInCheckout").innerHTML = "<pre>Total number of items in checkout: " + itemsInCheckout+ "</pre>";

    });

</script>

</head>
<body>
  <h1>Adam's Fastspring Example</h>

  <div id="itemsInCheckout"></div>

  <button style="width:300px;font-weight:bold" data-fsc-action="Checkout">
    Checkout
  </button>

</body>
</html>
