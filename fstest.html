<html>
<header>
<script
    id="fsc-api"
    src="https://d1f8f9xcsvx3ha.cloudfront.net/sbl/0.8.3/fastspring-builder.min.js"
    type="text/javascript"
    data-storefront="fastspringexamples.onfastspring.com/popup-fastspringexamples"
    data-popup-closed="dataPopupClosed"
    data-popup-webhook-received="dataPopupWebhookReceived"
    data-continuous="true">
</script>
</header>
<body>
<!--
    Initialize the cart for demo purposes
-->
<script>
    fastspring.builder.reset();
    fastspring.builder.add("phot-io-main-app");
</script>

<!--
    dataPopupClosed
        - In this example, it will write div with the id log with the returned data.
-->
<script>
  function dataPopupWebhookReceived(data) {
       console.log("---- dataPopupWebhookReceived");
       console.log(JSON.stringify(data, null, 4));
       document.getElementById("log2").innerHTML = "<pre> WEBHOOK RECEIVED:  --- "+JSON.stringify(data, null, 4)+"</pre>";

  }
    function dataPopupClosed(data) {
        document.getElementById("log").innerHTML = "<pre>"+JSON.stringify(data, null, 4)+"</pre>";
    }
</script>
    
    
<!--
    Configure a checkout button.
-->
<button onclick="fastspring.builder.checkout();">Checkout</button>

<!--
    DEMO EFFECTS
        - The below div will be updated to include the returned data from the data-popup-webhook-received
-->
<br /><br />dataPopupClosed data returned: <div id="log"></div>
<br /><br />dataPopupWebhookReceived data returned: <div id="log2"></div>
    
</body>

</html>
